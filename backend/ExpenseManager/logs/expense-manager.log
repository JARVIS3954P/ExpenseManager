2025-03-13 01:41:37,843 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2025-03-13 01:41:37,910 INFO o.s.b.StartupInfoLogger [main] Starting SecurityConfigTest using Java 21.0.5 with PID 16464 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 01:41:37,912 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 01:41:37,914 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 01:41:37,999 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@15d3793b
2025-03-13 01:41:39,442 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-13 01:41:39,568 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 111 ms. Found 5 JPA repository interfaces.
2025-03-13 01:41:40,618 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-13 01:41:40,744 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-13 01:41:40,809 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-03-13 01:41:40,974 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-13 01:41:41,013 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-03-13 01:41:41,331 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2d33795c
2025-03-13 01:41:41,333 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-03-13 01:41:41,428 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-13 01:41:42,912 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-13 01:41:43,034 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))
2025-03-13 01:41:43,061 WARN o.h.t.s.i.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))" via JDBC [ERROR: column "provider" of relation "users" contains null values]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))" via JDBC [ERROR: column "provider" of relation "users" contains null values]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.postgresql.util.PSQLException: ERROR: column "provider" of relation "users" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-03-13 01:41:43,178 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 01:41:43,645 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-13 01:41:45,225 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-03-13 01:41:45,721 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-13 01:41:45,776 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ApprovalController:
	
2025-03-13 01:41:45,776 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.AuthController:
	
2025-03-13 01:41:45,780 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ExpenseController:
	
2025-03-13 01:41:45,780 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.NotificationController:
	
2025-03-13 01:41:45,780 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ReportController:
	
2025-03-13 01:41:45,780 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.UserController:
	
2025-03-13 01:41:45,783 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-03-13 01:41:45,792 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-03-13 01:41:45,793 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-03-13 01:41:45,794 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerConfigResource:
	
2025-03-13 01:41:46,040 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 24 mappings in 'requestMappingHandlerMapping'
2025-03-13 01:41:46,156 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-13 01:41:46,307 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@60c2c500, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1204d592, org.springframework.security.web.context.SecurityContextHolderFilter@36d28b4c, org.springframework.security.web.header.HeaderWriterFilter@e2931b1, org.springframework.web.filter.CorsFilter@6a8e4df1, org.springframework.security.web.authentication.logout.LogoutFilter@39e08d73, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@126688a7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5bf52832, com.zidioDev.ExpenseManager.config.RateLimitFilter@3698f2ed, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@5337a5ae, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4ee5d723, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@43f50bfe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@649ddfe6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5962c1b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35e92c45, org.springframework.security.web.session.SessionManagementFilter@a07479d, org.springframework.security.web.access.ExceptionTranslationFilter@66b1f207, org.springframework.security.web.access.intercept.AuthorizationFilter@6afafa48]
2025-03-13 01:41:46,631 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 01:41:46,673 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 01:41:47,108 DEBUG o.s.c.l.CompositeLog [main] clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 01:41:47,108 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 01:41:47,109 INFO o.s.c.l.CompositeLog [main] Starting...
2025-03-13 01:41:47,110 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1cbd2c1a]
2025-03-13 01:41:47,111 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1cbd2c1a]
2025-03-13 01:41:47,112 INFO o.s.c.l.CompositeLog [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1cbd2c1a]]
2025-03-13 01:41:47,113 INFO o.s.c.l.CompositeLog [main] Started.
2025-03-13 01:41:47,114 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 01:41:47,115 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 01:41:47,125 INFO o.s.b.StartupInfoLogger [main] Started SecurityConfigTest in 9.942 seconds (process running for 15.031)
2025-03-13 01:41:47,177 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.zidioDev.ExpenseManager.controller.ApprovalControllerTest]: ApprovalControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13 01:41:47,217 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.zidioDev.ExpenseManager.ExpenseManagerApplication for test class com.zidioDev.ExpenseManager.controller.ApprovalControllerTest
2025-03-13 01:41:47,277 INFO o.s.b.StartupInfoLogger [main] Starting ApprovalControllerTest using Java 21.0.5 with PID 16464 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 01:41:47,278 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 01:41:47,279 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 01:41:47,283 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5e491535
2025-03-13 01:41:48,049 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 4 mappings in 'requestMappingHandlerMapping'
2025-03-13 01:41:48,139 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-13 01:41:48,191 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@792feb9f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46b32aa3, org.springframework.security.web.context.SecurityContextHolderFilter@d031623, org.springframework.security.web.header.HeaderWriterFilter@75084fe4, org.springframework.web.filter.CorsFilter@614220b8, org.springframework.security.web.authentication.logout.LogoutFilter@59ccdde4, com.zidioDev.ExpenseManager.config.TestSecurityConfig$1@70f4dd28, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@1b6a9bb9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e609e8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59209bcd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30f0c5e, org.springframework.security.web.session.SessionManagementFilter@622eee0b, org.springframework.security.web.access.ExceptionTranslationFilter@3cc1990, org.springframework.security.web.access.intercept.AuthorizationFilter@6e9197d1]
2025-03-13 01:41:48,311 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 01:41:48,322 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 01:41:48,469 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-03-13 01:41:48,471 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'rateLimitFilter' configured for use
2025-03-13 01:41:48,472 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testJwtAuthenticationFilter' configured for use
2025-03-13 01:41:48,472 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testRateLimitFilter' configured for use
2025-03-13 01:41:48,475 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-03-13 01:41:48,477 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-03-13 01:41:48,480 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 2 ms
2025-03-13 01:41:48,511 INFO o.s.b.StartupInfoLogger [main] Started ApprovalControllerTest in 1.288 seconds (process running for 16.418)
2025-03-13 01:41:48,769 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ApprovalController#approveExpense(Long, Authentication)
2025-03-13 01:41:48,983 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:48,987 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ApprovalDTO(reason=Test rejection reason)]
2025-03-13 01:41:49,144 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ApprovalController#rejectExpense(Long, String, Authentication)
2025-03-13 01:41:49,157 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:49,158 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ApprovalDTO(reason=Test rejection reason)]
2025-03-13 01:41:49,173 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.zidioDev.ExpenseManager.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13 01:41:49,194 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.zidioDev.ExpenseManager.ExpenseManagerApplication for test class com.zidioDev.ExpenseManager.controller.AuthControllerTest
2025-03-13 01:41:49,261 INFO o.s.b.StartupInfoLogger [main] Starting AuthControllerTest using Java 21.0.5 with PID 16464 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 01:41:49,262 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 01:41:49,263 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 01:41:49,273 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@51ce29c9
2025-03-13 01:41:49,867 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 4 mappings in 'requestMappingHandlerMapping'
2025-03-13 01:41:49,931 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-13 01:41:49,953 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64117499, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53ce7e1c, org.springframework.security.web.context.SecurityContextHolderFilter@7e349cc3, org.springframework.security.web.header.HeaderWriterFilter@721950cf, org.springframework.web.filter.CorsFilter@7dcefda1, org.springframework.security.web.authentication.logout.LogoutFilter@4e5f36f9, com.zidioDev.ExpenseManager.config.TestSecurityConfig$1@337a9406, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@c24ba1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3afaf322, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25d439a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75723fe1, org.springframework.security.web.session.SessionManagementFilter@172edd8, org.springframework.security.web.access.ExceptionTranslationFilter@98925d, org.springframework.security.web.access.intercept.AuthorizationFilter@4b787980]
2025-03-13 01:41:50,018 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 01:41:50,025 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 01:41:50,049 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-03-13 01:41:50,051 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'rateLimitFilter' configured for use
2025-03-13 01:41:50,052 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testJwtAuthenticationFilter' configured for use
2025-03-13 01:41:50,053 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testRateLimitFilter' configured for use
2025-03-13 01:41:50,054 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-03-13 01:41:50,055 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-03-13 01:41:50,057 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-03-13 01:41:50,068 INFO o.s.b.StartupInfoLogger [main] Started AuthControllerTest in 0.869 seconds (process running for 17.974)
2025-03-13 01:41:50,100 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.AuthController#register(RegisterRequest)
2025-03-13 01:41:50,195 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [RegisterRequest(fullName=Test User, email=testcce40104@example.com, password=password123, role=EMPLO (truncated)...]
2025-03-13 01:41:50,297 INFO c.z.E.c.AuthController [main] Attempting to register user with email: testcce40104@example.com
2025-03-13 01:41:50,298 INFO c.z.E.c.AuthController [main] Successfully registered user with email: testcce40104@example.com
2025-03-13 01:41:50,305 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:50,307 DEBUG o.s.c.l.LogFormatUtils [main] Writing [AuthResponse(token=mock-jwt-token, id=null, email=null, role=EMPLOYEE, message=Success)]
2025-03-13 01:41:50,322 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.AuthController#login(LoginRequest)
2025-03-13 01:41:50,326 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [LoginRequest(email=test35573842@example.com, password=password123)]
2025-03-13 01:41:50,331 INFO c.z.E.c.AuthController [main] Attempting login for user: test35573842@example.com
2025-03-13 01:41:50,332 INFO c.z.E.c.AuthController [main] Successfully logged in user: test35573842@example.com
2025-03-13 01:41:50,333 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:50,334 DEBUG o.s.c.l.LogFormatUtils [main] Writing [AuthResponse(token=mock-jwt-token, id=null, email=null, role=EMPLOYEE, message=Success)]
2025-03-13 01:41:50,346 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.zidioDev.ExpenseManager.controller.ExpenseControllerTest]: ExpenseControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13 01:41:50,360 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.zidioDev.ExpenseManager.ExpenseManagerApplication for test class com.zidioDev.ExpenseManager.controller.ExpenseControllerTest
2025-03-13 01:41:50,413 INFO o.s.b.StartupInfoLogger [main] Starting ExpenseControllerTest using Java 21.0.5 with PID 16464 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 01:41:50,413 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 01:41:50,414 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 01:41:50,417 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1e2abb0c
2025-03-13 01:41:50,848 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 8 mappings in 'requestMappingHandlerMapping'
2025-03-13 01:41:50,889 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-13 01:41:50,905 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b74541e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c9f2683, org.springframework.security.web.context.SecurityContextHolderFilter@68ddb10c, org.springframework.security.web.header.HeaderWriterFilter@3de08050, org.springframework.web.filter.CorsFilter@4a8f6f49, org.springframework.security.web.authentication.logout.LogoutFilter@1be391f2, com.zidioDev.ExpenseManager.config.TestSecurityConfig$1@4aaf547c, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@611ce139, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a81d6a9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3da33a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7383536, org.springframework.security.web.session.SessionManagementFilter@617f817a, org.springframework.security.web.access.ExceptionTranslationFilter@37aca44a, org.springframework.security.web.access.intercept.AuthorizationFilter@7df60197]
2025-03-13 01:41:50,956 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 01:41:50,961 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 01:41:50,980 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-03-13 01:41:50,981 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'rateLimitFilter' configured for use
2025-03-13 01:41:50,982 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testJwtAuthenticationFilter' configured for use
2025-03-13 01:41:50,983 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testRateLimitFilter' configured for use
2025-03-13 01:41:50,984 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-03-13 01:41:50,985 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-03-13 01:41:50,986 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-03-13 01:41:50,994 INFO o.s.b.StartupInfoLogger [main] Started ExpenseControllerTest in 0.629 seconds (process running for 18.901)
2025-03-13 01:41:51,087 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpensesByUser(Long)
2025-03-13 01:41:51,095 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:51,107 DEBUG o.s.c.l.LogFormatUtils [main] Writing [[ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T01:41:51.084383800, category= (truncated)...]
2025-03-13 01:41:51,218 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#deleteExpense(Long, Authentication)
2025-03-13 01:41:51,222 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:51,223 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 01:41:51,314 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#updateExpense(Long, ExpenseDTO, Authentication)
2025-03-13 01:41:51,338 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T01:41:51.310386500, cate (truncated)...]
2025-03-13 01:41:51,368 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:51,369 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 01:41:51,440 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpenseById(Long, Authentication)
2025-03-13 01:41:51,443 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:51,444 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T01:41:51.437385400, cate (truncated)...]
2025-03-13 01:41:51,514 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#deleteExpense(Long, Authentication)
2025-03-13 01:41:51,516 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:51,517 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 01:41:51,584 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#deleteExpense(Long, Authentication)
2025-03-13 01:41:51,586 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:51,587 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 01:41:51,657 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpenseById(Long, Authentication)
2025-03-13 01:41:51,659 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:51,659 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 01:41:51,730 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpenseById(Long, Authentication)
2025-03-13 01:41:51,731 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:51,732 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T01:41:51.729398100, category=F (truncated)...]
2025-03-13 01:41:51,798 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#createExpense(ExpenseDTO, Authentication)
2025-03-13 01:41:51,800 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T01:41:51.796401800, category=F (truncated)...]
2025-03-13 01:41:51,801 DEBUG c.z.E.c.ExpenseController [main] Creating expense for user: employee@example.com
2025-03-13 01:41:51,802 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:51,803 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T01:41:51.796401800, category=F (truncated)...]
2025-03-13 01:41:51,867 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getMyExpenses(Authentication)
2025-03-13 01:41:51,868 DEBUG c.z.E.c.ExpenseController [main] Fetching expenses for user: employee@example.com
2025-03-13 01:41:51,869 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:51,869 DEBUG o.s.c.l.LogFormatUtils [main] Writing [[ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T01:41:51.866395300, category= (truncated)...]
2025-03-13 01:41:51,935 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#updateExpense(Long, ExpenseDTO, Authentication)
2025-03-13 01:41:51,936 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T01:41:51.932401100, cate (truncated)...]
2025-03-13 01:41:51,937 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:51,938 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T01:41:51.932401100, cate (truncated)...]
2025-03-13 01:41:52,003 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#createExpense(ExpenseDTO, Authentication)
2025-03-13 01:41:52,004 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T01:41:52.001395300, category=F (truncated)...]
2025-03-13 01:41:52,007 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] Using @ExceptionHandler com.zidioDev.ExpenseManager.exception.GlobalExceptionHandler#handleAccessDenied(AccessDeniedException)
2025-03-13 01:41:52,010 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:52,014 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ErrorResponse(timestamp=2025-03-13T01:41:52.008385600, status=403, error=Access Denied, message=You  (truncated)...]
2025-03-13 01:41:52,016 DEBUG o.s.w.s.h.AbstractHandlerExceptionResolver [main] Resolved [org.springframework.security.access.AccessDeniedException: Access Denied]
2025-03-13 01:41:52,081 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#updateExpense(Long, ExpenseDTO, Authentication)
2025-03-13 01:41:52,082 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T01:41:52.079390400, category=F (truncated)...]
2025-03-13 01:41:52,084 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 01:41:52,084 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T01:41:52.079390400, category=F (truncated)...]
2025-03-13 01:41:52,134 INFO o.s.b.StartupInfoLogger [main] Starting ExpenseManagerApplicationTests using Java 21.0.5 with PID 16464 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 01:41:52,135 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 01:41:52,136 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 01:41:52,139 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@61cb973d
2025-03-13 01:41:52,598 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-13 01:41:52,639 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 39 ms. Found 5 JPA repository interfaces.
2025-03-13 01:41:52,827 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-13 01:41:52,834 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-03-13 01:41:52,841 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-13 01:41:52,845 INFO c.z.h.HikariDataSource [main] HikariPool-2 - Starting...
2025-03-13 01:41:52,907 INFO c.z.h.p.HikariPool [main] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@61523c3
2025-03-13 01:41:52,908 INFO c.z.h.HikariDataSource [main] HikariPool-2 - Start completed.
2025-03-13 01:41:52,916 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-13 01:41:53,215 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-13 01:41:53,259 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))
2025-03-13 01:41:53,266 WARN o.h.t.s.i.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))" via JDBC [ERROR: column "provider" of relation "users" contains null values]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))" via JDBC [ERROR: column "provider" of relation "users" contains null values]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.postgresql.util.PSQLException: ERROR: column "provider" of relation "users" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-03-13 01:41:53,372 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 01:41:53,798 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-13 01:41:53,817 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-03-13 01:41:53,865 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 24 mappings in 'requestMappingHandlerMapping'
2025-03-13 01:41:53,887 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-13 01:41:53,917 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5fc46215, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ceb78cc, org.springframework.security.web.context.SecurityContextHolderFilter@1b1d094a, org.springframework.security.web.header.HeaderWriterFilter@5c6af94d, org.springframework.web.filter.CorsFilter@3daf4e64, org.springframework.security.web.authentication.logout.LogoutFilter@34942d7c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@76a0e2af, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@634aceca, com.zidioDev.ExpenseManager.config.RateLimitFilter@3bb728d1, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@15978cad, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@48698a4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@826eb85, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76b6b86f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d1d9765, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@748ee45e, org.springframework.security.web.session.SessionManagementFilter@4a767290, org.springframework.security.web.access.ExceptionTranslationFilter@56677422, org.springframework.security.web.access.intercept.AuthorizationFilter@15d0cd8c]
2025-03-13 01:41:53,950 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ApprovalController:
	
2025-03-13 01:41:53,951 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.AuthController:
	
2025-03-13 01:41:53,952 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ExpenseController:
	
2025-03-13 01:41:53,953 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.NotificationController:
	
2025-03-13 01:41:53,954 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ReportController:
	
2025-03-13 01:41:53,954 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.UserController:
	
2025-03-13 01:41:53,956 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-03-13 01:41:53,957 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-03-13 01:41:53,958 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-03-13 01:41:53,958 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerConfigResource:
	
2025-03-13 01:41:54,021 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 01:41:54,027 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 01:41:54,188 DEBUG o.s.c.l.CompositeLog [main] clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 01:41:54,189 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 01:41:54,189 INFO o.s.c.l.CompositeLog [main] Starting...
2025-03-13 01:41:54,190 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2a1a57e5]
2025-03-13 01:41:54,190 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2a1a57e5]
2025-03-13 01:41:54,191 INFO o.s.c.l.CompositeLog [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2a1a57e5]]
2025-03-13 01:41:54,192 INFO o.s.c.l.CompositeLog [main] Started.
2025-03-13 01:41:54,192 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 01:41:54,192 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 01:41:54,195 INFO o.s.b.StartupInfoLogger [main] Started ExpenseManagerApplicationTests in 2.098 seconds (process running for 22.102)
2025-03-13 01:41:54,215 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@15d3793b, started on Thu Mar 13 01:41:37 IST 2025
2025-03-13 01:41:54,217 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 01:41:54,217 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 01:41:54,217 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-03-13 01:41:54,217 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1cbd2c1a]]
2025-03-13 01:41:54,217 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1cbd2c1a]
2025-03-13 01:41:54,218 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1cbd2c1a]
2025-03-13 01:41:54,218 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-03-13 01:41:54,218 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 01:41:54,218 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 01:41:54,221 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 01:41:54,223 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-03-13 01:41:54,227 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-03-13 01:41:54,229 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@5e491535, started on Thu Mar 13 01:41:47 IST 2025
2025-03-13 01:41:54,230 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@51ce29c9, started on Thu Mar 13 01:41:49 IST 2025
2025-03-13 01:41:54,233 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@1e2abb0c, started on Thu Mar 13 01:41:50 IST 2025
2025-03-13 01:41:54,234 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@61cb973d, started on Thu Mar 13 01:41:52 IST 2025
2025-03-13 01:41:54,235 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 01:41:54,235 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 01:41:54,236 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-03-13 01:41:54,236 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2a1a57e5]]
2025-03-13 01:41:54,236 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2a1a57e5]
2025-03-13 01:41:54,236 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2a1a57e5]
2025-03-13 01:41:54,236 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-03-13 01:41:54,236 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 01:41:54,236 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 01:41:54,238 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 01:41:54,239 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2025-03-13 01:41:54,241 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2025-03-13 02:12:10,378 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2025-03-13 02:12:10,427 INFO o.s.b.StartupInfoLogger [main] Starting SecurityConfigTest using Java 21.0.5 with PID 1600 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:12:10,428 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:12:10,429 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:12:10,496 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4b765e92
2025-03-13 02:12:11,849 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-13 02:12:11,985 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 123 ms. Found 5 JPA repository interfaces.
2025-03-13 02:12:12,944 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-13 02:12:13,047 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-13 02:12:13,104 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-03-13 02:12:13,236 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-13 02:12:13,271 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-03-13 02:12:13,483 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@65d2d3cc
2025-03-13 02:12:13,486 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-03-13 02:12:13,534 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-13 02:12:14,907 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-13 02:12:14,978 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))
2025-03-13 02:12:14,987 WARN o.h.t.s.i.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))" via JDBC [ERROR: column "provider" of relation "users" contains null values]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))" via JDBC [ERROR: column "provider" of relation "users" contains null values]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.postgresql.util.PSQLException: ERROR: column "provider" of relation "users" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-03-13 02:12:15,090 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 02:12:15,619 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-13 02:12:16,960 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-03-13 02:12:17,423 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-13 02:12:17,482 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ApprovalController:
	
2025-03-13 02:12:17,484 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.AuthController:
	
2025-03-13 02:12:17,485 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ExpenseController:
	
2025-03-13 02:12:17,486 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.NotificationController:
	
2025-03-13 02:12:17,486 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ReportController:
	
2025-03-13 02:12:17,487 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.UserController:
	
2025-03-13 02:12:17,487 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-03-13 02:12:17,501 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-03-13 02:12:17,502 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-03-13 02:12:17,503 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerConfigResource:
	
2025-03-13 02:12:17,683 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 24 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:12:17,775 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-13 02:12:17,861 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a536b4e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70bdc9df, org.springframework.security.web.context.SecurityContextHolderFilter@187c011d, org.springframework.security.web.header.HeaderWriterFilter@232e1f66, org.springframework.web.filter.CorsFilter@482ecb95, org.springframework.security.web.authentication.logout.LogoutFilter@238bee26, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5fb2088b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@70295fa4, com.zidioDev.ExpenseManager.config.RateLimitFilter@351623d, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@45db8ba6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@76d404ab, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@79360eff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c86938f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52294ab7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28ee138c, org.springframework.security.web.session.SessionManagementFilter@6d386dff, org.springframework.security.web.access.ExceptionTranslationFilter@6f88319b, org.springframework.security.web.access.intercept.AuthorizationFilter@63cb06df]
2025-03-13 02:12:18,074 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:12:18,110 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:12:18,475 DEBUG o.s.c.l.CompositeLog [main] clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 02:12:18,476 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 02:12:18,477 INFO o.s.c.l.CompositeLog [main] Starting...
2025-03-13 02:12:18,478 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4977e352]
2025-03-13 02:12:18,479 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4977e352]
2025-03-13 02:12:18,480 INFO o.s.c.l.CompositeLog [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4977e352]]
2025-03-13 02:12:18,482 INFO o.s.c.l.CompositeLog [main] Started.
2025-03-13 02:12:18,483 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:12:18,484 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:12:18,495 INFO o.s.b.StartupInfoLogger [main] Started SecurityConfigTest in 8.683 seconds (process running for 13.379)
2025-03-13 02:12:18,547 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.zidioDev.ExpenseManager.controller.ApprovalControllerTest]: ApprovalControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13 02:12:18,583 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.zidioDev.ExpenseManager.ExpenseManagerApplication for test class com.zidioDev.ExpenseManager.controller.ApprovalControllerTest
2025-03-13 02:12:18,631 INFO o.s.b.StartupInfoLogger [main] Starting ApprovalControllerTest using Java 21.0.5 with PID 1600 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:12:18,632 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:12:18,633 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:12:18,635 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@536e5b21
2025-03-13 02:12:19,309 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 4 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:12:19,403 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-13 02:12:19,450 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31287930, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5233b9e0, org.springframework.security.web.context.SecurityContextHolderFilter@7e75c292, org.springframework.security.web.header.HeaderWriterFilter@33b0c483, org.springframework.web.filter.CorsFilter@4e32d885, org.springframework.security.web.authentication.logout.LogoutFilter@344ae64b, com.zidioDev.ExpenseManager.config.TestSecurityConfig$1@30f0c5e, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@792feb9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3738bd7a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@299f3c2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48841b10, org.springframework.security.web.session.SessionManagementFilter@4db5663b, org.springframework.security.web.access.ExceptionTranslationFilter@7e26e452, org.springframework.security.web.access.intercept.AuthorizationFilter@ba1a239]
2025-03-13 02:12:19,580 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:12:19,590 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:12:19,744 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-03-13 02:12:19,745 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'rateLimitFilter' configured for use
2025-03-13 02:12:19,745 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testJwtAuthenticationFilter' configured for use
2025-03-13 02:12:19,746 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testRateLimitFilter' configured for use
2025-03-13 02:12:19,749 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-03-13 02:12:19,750 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-03-13 02:12:19,752 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-03-13 02:12:19,779 INFO o.s.b.StartupInfoLogger [main] Started ApprovalControllerTest in 1.191 seconds (process running for 14.662)
2025-03-13 02:12:20,040 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-03-13 02:12:20,063 DEBUG o.s.w.s.r.ResourceHttpRequestHandler [main] Resource not found
2025-03-13 02:12:20,079 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] Using @ExceptionHandler com.zidioDev.ExpenseManager.exception.GlobalExceptionHandler#handleAllUncaughtException(Exception)
2025-03-13 02:12:20,227 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:20,244 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ErrorResponse(timestamp=2025-03-13T02:12:20.083250900, status=500, error=Internal Server Error, mess (truncated)...]
2025-03-13 02:12:20,292 DEBUG o.s.w.s.h.AbstractHandlerExceptionResolver [main] Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/approvals/1/approve.]
2025-03-13 02:12:20,461 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-03-13 02:12:20,465 DEBUG o.s.w.s.r.ResourceHttpRequestHandler [main] Resource not found
2025-03-13 02:12:20,467 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] Using @ExceptionHandler com.zidioDev.ExpenseManager.exception.GlobalExceptionHandler#handleAllUncaughtException(Exception)
2025-03-13 02:12:20,468 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:20,469 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ErrorResponse(timestamp=2025-03-13T02:12:20.468873700, status=500, error=Internal Server Error, mess (truncated)...]
2025-03-13 02:12:20,471 DEBUG o.s.w.s.h.AbstractHandlerExceptionResolver [main] Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/approvals/1/reject.]
2025-03-13 02:12:20,486 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.zidioDev.ExpenseManager.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13 02:12:20,506 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.zidioDev.ExpenseManager.ExpenseManagerApplication for test class com.zidioDev.ExpenseManager.controller.AuthControllerTest
2025-03-13 02:12:20,567 INFO o.s.b.StartupInfoLogger [main] Starting AuthControllerTest using Java 21.0.5 with PID 1600 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:12:20,568 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:12:20,568 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:12:20,576 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7046bea1
2025-03-13 02:12:21,182 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 4 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:12:21,230 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-13 02:12:21,245 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f258c95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71d191d3, org.springframework.security.web.context.SecurityContextHolderFilter@76a7f2fa, org.springframework.security.web.header.HeaderWriterFilter@6eeb6ef7, org.springframework.web.filter.CorsFilter@9d1788c, org.springframework.security.web.authentication.logout.LogoutFilter@f3a3210, com.zidioDev.ExpenseManager.config.TestSecurityConfig$1@c7934ea, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@506e35b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4475b4b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71dce61e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30dc642d, org.springframework.security.web.session.SessionManagementFilter@67aa004d, org.springframework.security.web.access.ExceptionTranslationFilter@1ee590b7, org.springframework.security.web.access.intercept.AuthorizationFilter@707929a2]
2025-03-13 02:12:21,295 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:12:21,307 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:12:21,329 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-03-13 02:12:21,330 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'rateLimitFilter' configured for use
2025-03-13 02:12:21,330 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testJwtAuthenticationFilter' configured for use
2025-03-13 02:12:21,332 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testRateLimitFilter' configured for use
2025-03-13 02:12:21,333 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-03-13 02:12:21,334 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-03-13 02:12:21,335 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-03-13 02:12:21,342 INFO o.s.b.StartupInfoLogger [main] Started AuthControllerTest in 0.829 seconds (process running for 16.228)
2025-03-13 02:12:21,373 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.AuthController#register(RegisterRequest)
2025-03-13 02:12:21,470 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [RegisterRequest(fullName=Test User, email=testddc734c1@example.com, password=password123, role=EMPLO (truncated)...]
2025-03-13 02:12:21,589 INFO c.z.E.c.AuthController [main] Attempting to register user with email: testddc734c1@example.com
2025-03-13 02:12:21,591 INFO c.z.E.c.AuthController [main] Successfully registered user with email: testddc734c1@example.com
2025-03-13 02:12:21,601 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:21,602 DEBUG o.s.c.l.LogFormatUtils [main] Writing [AuthResponse(token=mock-jwt-token, id=null, email=null, role=EMPLOYEE, message=Success)]
2025-03-13 02:12:21,617 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.AuthController#login(LoginRequest)
2025-03-13 02:12:21,619 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [LoginRequest(email=test645d194e@example.com, password=password123)]
2025-03-13 02:12:21,625 INFO c.z.E.c.AuthController [main] Attempting login for user: test645d194e@example.com
2025-03-13 02:12:21,626 INFO c.z.E.c.AuthController [main] Successfully logged in user: test645d194e@example.com
2025-03-13 02:12:21,626 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:21,626 DEBUG o.s.c.l.LogFormatUtils [main] Writing [AuthResponse(token=mock-jwt-token, id=null, email=null, role=EMPLOYEE, message=Success)]
2025-03-13 02:12:21,639 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.zidioDev.ExpenseManager.controller.ExpenseControllerTest]: ExpenseControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13 02:12:21,651 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.zidioDev.ExpenseManager.ExpenseManagerApplication for test class com.zidioDev.ExpenseManager.controller.ExpenseControllerTest
2025-03-13 02:12:21,696 INFO o.s.b.StartupInfoLogger [main] Starting ExpenseControllerTest using Java 21.0.5 with PID 1600 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:12:21,696 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:12:21,697 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:12:21,701 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@495e5dbc
2025-03-13 02:12:22,271 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 8 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:12:22,321 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-13 02:12:22,339 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6196a827, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5def137c, org.springframework.security.web.context.SecurityContextHolderFilter@5ad583a9, org.springframework.security.web.header.HeaderWriterFilter@60648aad, org.springframework.web.filter.CorsFilter@179273ff, org.springframework.security.web.authentication.logout.LogoutFilter@3191ba8b, com.zidioDev.ExpenseManager.config.TestSecurityConfig$1@7a7ebcf3, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@753b0607, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1fbcd083, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b49003b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12b4cf0b, org.springframework.security.web.session.SessionManagementFilter@6d7e209e, org.springframework.security.web.access.ExceptionTranslationFilter@278c5404, org.springframework.security.web.access.intercept.AuthorizationFilter@5b8bc51b]
2025-03-13 02:12:22,396 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:12:22,404 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:12:22,422 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-03-13 02:12:22,423 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'rateLimitFilter' configured for use
2025-03-13 02:12:22,424 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testJwtAuthenticationFilter' configured for use
2025-03-13 02:12:22,425 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testRateLimitFilter' configured for use
2025-03-13 02:12:22,425 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-03-13 02:12:22,425 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-03-13 02:12:22,428 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 3 ms
2025-03-13 02:12:22,440 INFO o.s.b.StartupInfoLogger [main] Started ExpenseControllerTest in 0.784 seconds (process running for 17.323)
2025-03-13 02:12:22,534 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpensesByUser(Long)
2025-03-13 02:12:22,578 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:22,592 DEBUG o.s.c.l.LogFormatUtils [main] Writing [[ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:12:22.530829600, category= (truncated)...]
2025-03-13 02:12:22,703 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#deleteExpense(Long, Authentication)
2025-03-13 02:12:22,708 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:22,708 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:12:22,777 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#updateExpense(Long, ExpenseDTO, Authentication)
2025-03-13 02:12:22,791 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T02:12:22.775842700, cate (truncated)...]
2025-03-13 02:12:22,808 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:22,808 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:12:22,876 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpenseById(Long, Authentication)
2025-03-13 02:12:22,878 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:22,878 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T02:12:22.874828, categor (truncated)...]
2025-03-13 02:12:22,946 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#deleteExpense(Long, Authentication)
2025-03-13 02:12:22,947 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:22,947 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:12:23,015 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#deleteExpense(Long, Authentication)
2025-03-13 02:12:23,016 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:23,016 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:12:23,081 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpenseById(Long, Authentication)
2025-03-13 02:12:23,082 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:23,083 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:12:23,153 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpenseById(Long, Authentication)
2025-03-13 02:12:23,155 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:23,155 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:12:23.151825200, category=F (truncated)...]
2025-03-13 02:12:23,224 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#createExpense(ExpenseDTO, Authentication)
2025-03-13 02:12:23,226 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:12:23.222831200, category=F (truncated)...]
2025-03-13 02:12:23,228 DEBUG c.z.E.c.ExpenseController [main] Creating expense for user: employee@example.com
2025-03-13 02:12:23,230 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:23,230 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:12:23.222831200, category=F (truncated)...]
2025-03-13 02:12:23,297 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getMyExpenses(Authentication)
2025-03-13 02:12:23,298 DEBUG c.z.E.c.ExpenseController [main] Fetching expenses for user: employee@example.com
2025-03-13 02:12:23,299 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:23,299 DEBUG o.s.c.l.LogFormatUtils [main] Writing [[ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:12:23.296827200, category= (truncated)...]
2025-03-13 02:12:23,365 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#updateExpense(Long, ExpenseDTO, Authentication)
2025-03-13 02:12:23,367 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T02:12:23.362827200, cate (truncated)...]
2025-03-13 02:12:23,369 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:23,370 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T02:12:23.362827200, cate (truncated)...]
2025-03-13 02:12:23,438 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#createExpense(ExpenseDTO, Authentication)
2025-03-13 02:12:23,439 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:12:23.436847100, category=F (truncated)...]
2025-03-13 02:12:23,441 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] Using @ExceptionHandler com.zidioDev.ExpenseManager.exception.GlobalExceptionHandler#handleAccessDenied(AccessDeniedException)
2025-03-13 02:12:23,444 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:23,445 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ErrorResponse(timestamp=2025-03-13T02:12:23.441844400, status=403, error=Access Denied, message=You  (truncated)...]
2025-03-13 02:12:23,446 DEBUG o.s.w.s.h.AbstractHandlerExceptionResolver [main] Resolved [org.springframework.security.access.AccessDeniedException: Access Denied]
2025-03-13 02:12:23,510 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#updateExpense(Long, ExpenseDTO, Authentication)
2025-03-13 02:12:23,511 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:12:23.508825400, category=F (truncated)...]
2025-03-13 02:12:23,513 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:12:23,513 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:12:23.508825400, category=F (truncated)...]
2025-03-13 02:12:23,559 INFO o.s.b.StartupInfoLogger [main] Starting ExpenseManagerApplicationTests using Java 21.0.5 with PID 1600 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:12:23,560 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:12:23,560 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:12:23,563 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2b3c7194
2025-03-13 02:12:23,955 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-13 02:12:23,992 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 5 JPA repository interfaces.
2025-03-13 02:12:24,181 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-13 02:12:24,186 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-03-13 02:12:24,192 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-13 02:12:24,195 INFO c.z.h.HikariDataSource [main] HikariPool-2 - Starting...
2025-03-13 02:12:24,253 INFO c.z.h.p.HikariPool [main] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3ab5ccd5
2025-03-13 02:12:24,255 INFO c.z.h.HikariDataSource [main] HikariPool-2 - Start completed.
2025-03-13 02:12:24,265 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-13 02:12:24,617 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-13 02:12:24,656 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))
2025-03-13 02:12:24,663 WARN o.h.t.s.i.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))" via JDBC [ERROR: column "provider" of relation "users" contains null values]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))" via JDBC [ERROR: column "provider" of relation "users" contains null values]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.postgresql.util.PSQLException: ERROR: column "provider" of relation "users" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-03-13 02:12:24,764 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 02:12:25,153 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-13 02:12:25,182 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-03-13 02:12:25,221 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 24 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:12:25,242 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-13 02:12:25,269 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@655936bd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7913a77c, org.springframework.security.web.context.SecurityContextHolderFilter@4461cce7, org.springframework.security.web.header.HeaderWriterFilter@5ca90269, org.springframework.web.filter.CorsFilter@1b56d6e8, org.springframework.security.web.authentication.logout.LogoutFilter@1271a6bb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@27a8b1ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@38f38fcf, com.zidioDev.ExpenseManager.config.RateLimitFilter@29b29e5d, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@38c203a6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@23cde615, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3f7fbfba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@37899044, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23277696, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13bf8a36, org.springframework.security.web.session.SessionManagementFilter@555aa609, org.springframework.security.web.access.ExceptionTranslationFilter@71604f60, org.springframework.security.web.access.intercept.AuthorizationFilter@46cb53b1]
2025-03-13 02:12:25,296 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ApprovalController:
	
2025-03-13 02:12:25,297 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.AuthController:
	
2025-03-13 02:12:25,297 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ExpenseController:
	
2025-03-13 02:12:25,297 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.NotificationController:
	
2025-03-13 02:12:25,299 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ReportController:
	
2025-03-13 02:12:25,300 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.UserController:
	
2025-03-13 02:12:25,300 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-03-13 02:12:25,301 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-03-13 02:12:25,301 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-03-13 02:12:25,302 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerConfigResource:
	
2025-03-13 02:12:25,347 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:12:25,354 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:12:25,522 DEBUG o.s.c.l.CompositeLog [main] clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 02:12:25,522 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 02:12:25,522 INFO o.s.c.l.CompositeLog [main] Starting...
2025-03-13 02:12:25,522 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69d510a6]
2025-03-13 02:12:25,522 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69d510a6]
2025-03-13 02:12:25,525 INFO o.s.c.l.CompositeLog [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69d510a6]]
2025-03-13 02:12:25,527 INFO o.s.c.l.CompositeLog [main] Started.
2025-03-13 02:12:25,527 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:12:25,527 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:12:25,530 INFO o.s.b.StartupInfoLogger [main] Started ExpenseManagerApplicationTests in 2.007 seconds (process running for 20.414)
2025-03-13 02:12:25,558 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@4b765e92, started on Thu Mar 13 02:12:10 IST 2025
2025-03-13 02:12:25,561 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 02:12:25,561 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 02:12:25,561 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-03-13 02:12:25,561 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4977e352]]
2025-03-13 02:12:25,561 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4977e352]
2025-03-13 02:12:25,561 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4977e352]
2025-03-13 02:12:25,562 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-03-13 02:12:25,562 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:12:25,562 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:12:25,563 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 02:12:25,569 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-03-13 02:12:25,573 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-03-13 02:12:25,576 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@536e5b21, started on Thu Mar 13 02:12:18 IST 2025
2025-03-13 02:12:25,578 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@7046bea1, started on Thu Mar 13 02:12:20 IST 2025
2025-03-13 02:12:25,580 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@495e5dbc, started on Thu Mar 13 02:12:21 IST 2025
2025-03-13 02:12:25,581 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@2b3c7194, started on Thu Mar 13 02:12:23 IST 2025
2025-03-13 02:12:25,582 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 02:12:25,583 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 02:12:25,583 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-03-13 02:12:25,583 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69d510a6]]
2025-03-13 02:12:25,584 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69d510a6]
2025-03-13 02:12:25,584 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69d510a6]
2025-03-13 02:12:25,584 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-03-13 02:12:25,584 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:12:25,584 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:12:25,584 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 02:12:25,584 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2025-03-13 02:12:25,589 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2025-03-13 02:18:33,279 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2025-03-13 02:18:33,324 INFO o.s.b.StartupInfoLogger [main] Starting SecurityConfigTest using Java 21.0.5 with PID 8172 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:18:33,325 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:18:33,326 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:18:33,390 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4b765e92
2025-03-13 02:18:34,754 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-13 02:18:34,904 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 133 ms. Found 5 JPA repository interfaces.
2025-03-13 02:18:35,782 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-13 02:18:35,921 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-13 02:18:35,971 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-03-13 02:18:36,094 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-13 02:18:36,121 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-03-13 02:18:36,312 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6761f75b
2025-03-13 02:18:36,314 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-03-13 02:18:36,352 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-13 02:18:38,089 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-13 02:18:38,160 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))
2025-03-13 02:18:38,168 WARN o.h.t.s.i.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))" via JDBC [ERROR: column "provider" of relation "users" contains null values]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))" via JDBC [ERROR: column "provider" of relation "users" contains null values]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.postgresql.util.PSQLException: ERROR: column "provider" of relation "users" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-03-13 02:18:38,273 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 02:18:38,777 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-13 02:18:40,108 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-03-13 02:18:40,516 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-13 02:18:40,583 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ApprovalController:
	
2025-03-13 02:18:40,584 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.AuthController:
	
2025-03-13 02:18:40,584 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ExpenseController:
	
2025-03-13 02:18:40,585 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.NotificationController:
	
2025-03-13 02:18:40,585 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ReportController:
	
2025-03-13 02:18:40,585 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.UserController:
	
2025-03-13 02:18:40,588 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-03-13 02:18:40,595 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-03-13 02:18:40,596 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-03-13 02:18:40,596 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerConfigResource:
	
2025-03-13 02:18:40,793 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 24 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:18:40,898 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-13 02:18:41,053 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bf52832, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7df0a05b, org.springframework.security.web.context.SecurityContextHolderFilter@a07479d, org.springframework.security.web.header.HeaderWriterFilter@64513b46, org.springframework.web.filter.CorsFilter@485c31d7, org.springframework.security.web.authentication.logout.LogoutFilter@721d3a03, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5d6bed7b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@126688a7, com.zidioDev.ExpenseManager.config.RateLimitFilter@3ace955c, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@67710b92, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@35929bc7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@60c2c500, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2882a80d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36d28b4c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1204d592, org.springframework.security.web.session.SessionManagementFilter@82da5c9, org.springframework.security.web.access.ExceptionTranslationFilter@137fb1a1, org.springframework.security.web.access.intercept.AuthorizationFilter@e0eecbe]
2025-03-13 02:18:41,326 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:18:41,363 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:18:41,724 DEBUG o.s.c.l.CompositeLog [main] clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 02:18:41,725 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 02:18:41,725 INFO o.s.c.l.CompositeLog [main] Starting...
2025-03-13 02:18:41,726 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267e36f5]
2025-03-13 02:18:41,727 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267e36f5]
2025-03-13 02:18:41,728 INFO o.s.c.l.CompositeLog [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267e36f5]]
2025-03-13 02:18:41,730 INFO o.s.c.l.CompositeLog [main] Started.
2025-03-13 02:18:41,731 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:18:41,731 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:18:41,739 INFO o.s.b.StartupInfoLogger [main] Started SecurityConfigTest in 9.019 seconds (process running for 13.609)
2025-03-13 02:18:41,787 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.zidioDev.ExpenseManager.controller.ApprovalControllerTest]: ApprovalControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13 02:18:41,836 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.zidioDev.ExpenseManager.ExpenseManagerApplication for test class com.zidioDev.ExpenseManager.controller.ApprovalControllerTest
2025-03-13 02:18:41,892 INFO o.s.b.StartupInfoLogger [main] Starting ApprovalControllerTest using Java 21.0.5 with PID 8172 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:18:41,892 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:18:41,893 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:18:41,895 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@71980fa7
2025-03-13 02:18:42,607 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 4 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:18:42,709 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-13 02:18:42,765 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a74149d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51e28071, org.springframework.security.web.context.SecurityContextHolderFilter@6e9197d1, org.springframework.security.web.header.HeaderWriterFilter@59ccdde4, org.springframework.web.filter.CorsFilter@72b611a, org.springframework.security.web.authentication.logout.LogoutFilter@30f0c5e, com.zidioDev.ExpenseManager.config.TestSecurityConfig$1@4df03572, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@5c6e4d6b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@792feb9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46b32aa3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@406ba622, org.springframework.security.web.session.SessionManagementFilter@33b29c99, org.springframework.security.web.access.ExceptionTranslationFilter@4ceb6854, org.springframework.security.web.access.intercept.AuthorizationFilter@5ac3a89d]
2025-03-13 02:18:42,915 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:18:42,928 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:18:43,065 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-03-13 02:18:43,066 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'rateLimitFilter' configured for use
2025-03-13 02:18:43,068 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testJwtAuthenticationFilter' configured for use
2025-03-13 02:18:43,069 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testRateLimitFilter' configured for use
2025-03-13 02:18:43,072 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-03-13 02:18:43,074 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-03-13 02:18:43,076 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-03-13 02:18:43,101 INFO o.s.b.StartupInfoLogger [main] Started ApprovalControllerTest in 1.26 seconds (process running for 14.971)
2025-03-13 02:18:43,317 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ApprovalController#approveExpense(Long, String)
2025-03-13 02:18:43,575 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:43,578 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ApprovalDTO(expenseId=1, approverRole=MANAGER, approved=true, rejectionReason=null, approvedAt=null)]
2025-03-13 02:18:43,751 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ApprovalController#rejectExpense(Long, String, String)
2025-03-13 02:18:43,757 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:43,758 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ApprovalDTO(expenseId=1, approverRole=MANAGER, approved=false, rejectionReason=Test rejection reason (truncated)...]
2025-03-13 02:18:43,770 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.zidioDev.ExpenseManager.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13 02:18:43,788 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.zidioDev.ExpenseManager.ExpenseManagerApplication for test class com.zidioDev.ExpenseManager.controller.AuthControllerTest
2025-03-13 02:18:43,842 INFO o.s.b.StartupInfoLogger [main] Starting AuthControllerTest using Java 21.0.5 with PID 8172 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:18:43,843 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:18:43,843 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:18:43,849 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@202684ba
2025-03-13 02:18:44,428 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 4 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:18:44,477 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-13 02:18:44,493 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77302d1a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d8714b4, org.springframework.security.web.context.SecurityContextHolderFilter@7f8ac54f, org.springframework.security.web.header.HeaderWriterFilter@26599412, org.springframework.web.filter.CorsFilter@7f445761, org.springframework.security.web.authentication.logout.LogoutFilter@199c7a22, com.zidioDev.ExpenseManager.config.TestSecurityConfig$1@9ec7b1, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@3cf2ec22, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2224628d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48b79bdf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@114b8b04, org.springframework.security.web.session.SessionManagementFilter@6593a932, org.springframework.security.web.access.ExceptionTranslationFilter@3d2c0bf8, org.springframework.security.web.access.intercept.AuthorizationFilter@6c304a3f]
2025-03-13 02:18:44,543 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:18:44,548 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:18:44,567 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-03-13 02:18:44,568 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'rateLimitFilter' configured for use
2025-03-13 02:18:44,569 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testJwtAuthenticationFilter' configured for use
2025-03-13 02:18:44,571 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testRateLimitFilter' configured for use
2025-03-13 02:18:44,571 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-03-13 02:18:44,572 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-03-13 02:18:44,574 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-03-13 02:18:44,582 INFO o.s.b.StartupInfoLogger [main] Started AuthControllerTest in 0.788 seconds (process running for 16.451)
2025-03-13 02:18:44,603 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.AuthController#register(RegisterRequest)
2025-03-13 02:18:44,687 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [RegisterRequest(fullName=Test User, email=testb8e31c64@example.com, password=password123, role=EMPLO (truncated)...]
2025-03-13 02:18:44,793 INFO c.z.E.c.AuthController [main] Attempting to register user with email: testb8e31c64@example.com
2025-03-13 02:18:44,795 INFO c.z.E.c.AuthController [main] Successfully registered user with email: testb8e31c64@example.com
2025-03-13 02:18:44,800 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:44,802 DEBUG o.s.c.l.LogFormatUtils [main] Writing [AuthResponse(token=mock-jwt-token, id=null, email=null, role=EMPLOYEE, message=Success)]
2025-03-13 02:18:44,816 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.AuthController#login(LoginRequest)
2025-03-13 02:18:44,820 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [LoginRequest(email=testfba319f8@example.com, password=password123)]
2025-03-13 02:18:44,824 INFO c.z.E.c.AuthController [main] Attempting login for user: testfba319f8@example.com
2025-03-13 02:18:44,825 INFO c.z.E.c.AuthController [main] Successfully logged in user: testfba319f8@example.com
2025-03-13 02:18:44,827 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:44,829 DEBUG o.s.c.l.LogFormatUtils [main] Writing [AuthResponse(token=mock-jwt-token, id=null, email=null, role=EMPLOYEE, message=Success)]
2025-03-13 02:18:44,841 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.zidioDev.ExpenseManager.controller.ExpenseControllerTest]: ExpenseControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13 02:18:44,854 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.zidioDev.ExpenseManager.ExpenseManagerApplication for test class com.zidioDev.ExpenseManager.controller.ExpenseControllerTest
2025-03-13 02:18:44,897 INFO o.s.b.StartupInfoLogger [main] Starting ExpenseControllerTest using Java 21.0.5 with PID 8172 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:18:44,898 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:18:44,898 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:18:44,902 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4a6f9ca5
2025-03-13 02:18:45,310 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 8 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:18:45,350 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-13 02:18:45,366 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@25245f60, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@668b9072, org.springframework.security.web.context.SecurityContextHolderFilter@21ced418, org.springframework.security.web.header.HeaderWriterFilter@12aba7cb, org.springframework.web.filter.CorsFilter@78db5702, org.springframework.security.web.authentication.logout.LogoutFilter@6694bf01, com.zidioDev.ExpenseManager.config.TestSecurityConfig$1@2c080bf5, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@5b9bdb00, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c55b877, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38fdbc9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d29d8fc, org.springframework.security.web.session.SessionManagementFilter@10544888, org.springframework.security.web.access.ExceptionTranslationFilter@6b00dec8, org.springframework.security.web.access.intercept.AuthorizationFilter@7acff702]
2025-03-13 02:18:45,411 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:18:45,417 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:18:45,447 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-03-13 02:18:45,447 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'rateLimitFilter' configured for use
2025-03-13 02:18:45,448 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testJwtAuthenticationFilter' configured for use
2025-03-13 02:18:45,448 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testRateLimitFilter' configured for use
2025-03-13 02:18:45,449 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-03-13 02:18:45,449 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-03-13 02:18:45,451 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-03-13 02:18:45,461 INFO o.s.b.StartupInfoLogger [main] Started ExpenseControllerTest in 0.6 seconds (process running for 17.33)
2025-03-13 02:18:45,553 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpensesByUser(Long)
2025-03-13 02:18:45,554 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:45,567 DEBUG o.s.c.l.LogFormatUtils [main] Writing [[ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:18:45.550462700, category= (truncated)...]
2025-03-13 02:18:45,658 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#deleteExpense(Long, Authentication)
2025-03-13 02:18:45,663 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:45,664 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:18:45,734 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#updateExpense(Long, ExpenseDTO, Authentication)
2025-03-13 02:18:45,755 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T02:18:45.732971100, cate (truncated)...]
2025-03-13 02:18:45,775 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:45,776 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:18:45,850 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpenseById(Long, Authentication)
2025-03-13 02:18:45,852 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:45,853 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T02:18:45.847451800, cate (truncated)...]
2025-03-13 02:18:45,926 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#deleteExpense(Long, Authentication)
2025-03-13 02:18:45,927 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:45,928 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:18:45,991 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#deleteExpense(Long, Authentication)
2025-03-13 02:18:45,991 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:45,991 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:18:46,063 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpenseById(Long, Authentication)
2025-03-13 02:18:46,065 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:46,065 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:18:46,132 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpenseById(Long, Authentication)
2025-03-13 02:18:46,132 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:46,132 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:18:46.132621600, category=F (truncated)...]
2025-03-13 02:18:46,202 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#createExpense(ExpenseDTO, Authentication)
2025-03-13 02:18:46,202 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:18:46.201114900, category=F (truncated)...]
2025-03-13 02:18:46,202 DEBUG c.z.E.c.ExpenseController [main] Creating expense for user: employee@example.com
2025-03-13 02:18:46,202 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:46,202 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:18:46.201114900, category=F (truncated)...]
2025-03-13 02:18:46,265 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getMyExpenses(Authentication)
2025-03-13 02:18:46,271 DEBUG c.z.E.c.ExpenseController [main] Fetching expenses for user: employee@example.com
2025-03-13 02:18:46,272 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:46,272 DEBUG o.s.c.l.LogFormatUtils [main] Writing [[ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:18:46.265054800, category= (truncated)...]
2025-03-13 02:18:46,340 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#updateExpense(Long, ExpenseDTO, Authentication)
2025-03-13 02:18:46,341 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T02:18:46.337942800, cate (truncated)...]
2025-03-13 02:18:46,342 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:46,343 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T02:18:46.337942800, cate (truncated)...]
2025-03-13 02:18:46,407 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#createExpense(ExpenseDTO, Authentication)
2025-03-13 02:18:46,410 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:18:46.406759500, category=F (truncated)...]
2025-03-13 02:18:46,411 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] Using @ExceptionHandler com.zidioDev.ExpenseManager.exception.GlobalExceptionHandler#handleAccessDenied(AccessDeniedException)
2025-03-13 02:18:46,416 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:46,420 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ErrorResponse(timestamp=2025-03-13T02:18:46.411352800, status=403, error=Access Denied, message=You  (truncated)...]
2025-03-13 02:18:46,421 DEBUG o.s.w.s.h.AbstractHandlerExceptionResolver [main] Resolved [org.springframework.security.access.AccessDeniedException: Access Denied]
2025-03-13 02:18:46,486 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#updateExpense(Long, ExpenseDTO, Authentication)
2025-03-13 02:18:46,488 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:18:46.484935500, category=F (truncated)...]
2025-03-13 02:18:46,489 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:18:46,490 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:18:46.484935500, category=F (truncated)...]
2025-03-13 02:18:46,541 INFO o.s.b.StartupInfoLogger [main] Starting ExpenseManagerApplicationTests using Java 21.0.5 with PID 8172 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:18:46,542 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:18:46,543 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:18:46,546 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1d20aae4
2025-03-13 02:18:46,926 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-13 02:18:46,966 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 39 ms. Found 5 JPA repository interfaces.
2025-03-13 02:18:47,165 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-13 02:18:47,171 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-03-13 02:18:47,179 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-13 02:18:47,182 INFO c.z.h.HikariDataSource [main] HikariPool-2 - Starting...
2025-03-13 02:18:47,234 INFO c.z.h.p.HikariPool [main] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@774fa82b
2025-03-13 02:18:47,236 INFO c.z.h.HikariDataSource [main] HikariPool-2 - Start completed.
2025-03-13 02:18:47,244 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-13 02:18:47,511 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-13 02:18:47,546 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))
2025-03-13 02:18:47,553 WARN o.h.t.s.i.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))" via JDBC [ERROR: column "provider" of relation "users" contains null values]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists users 
       add column provider varchar(255) not null check (provider in ('LOCAL','GOOGLE','GITHUB'))" via JDBC [ERROR: column "provider" of relation "users" contains null values]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1454)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.postgresql.util.PSQLException: ERROR: column "provider" of relation "users" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 116 common frames omitted
2025-03-13 02:18:47,657 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 02:18:48,040 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-13 02:18:48,066 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-03-13 02:18:48,117 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 24 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:18:48,140 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-13 02:18:48,173 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2298e5d2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d06b5bf, org.springframework.security.web.context.SecurityContextHolderFilter@40b30d8b, org.springframework.security.web.header.HeaderWriterFilter@4f753a9e, org.springframework.web.filter.CorsFilter@31edcf2f, org.springframework.security.web.authentication.logout.LogoutFilter@1ab5da0c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7eb45060, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4ae58000, com.zidioDev.ExpenseManager.config.RateLimitFilter@611aca39, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@475f561c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1f259691, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@576eac92, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c7427d4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a33530e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32bd65d8, org.springframework.security.web.session.SessionManagementFilter@7c3f358c, org.springframework.security.web.access.ExceptionTranslationFilter@2b7c980, org.springframework.security.web.access.intercept.AuthorizationFilter@29bccdab]
2025-03-13 02:18:48,211 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ApprovalController:
	
2025-03-13 02:18:48,212 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.AuthController:
	
2025-03-13 02:18:48,213 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ExpenseController:
	
2025-03-13 02:18:48,214 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.NotificationController:
	
2025-03-13 02:18:48,215 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ReportController:
	
2025-03-13 02:18:48,216 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.UserController:
	
2025-03-13 02:18:48,217 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-03-13 02:18:48,227 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-03-13 02:18:48,228 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-03-13 02:18:48,229 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerConfigResource:
	
2025-03-13 02:18:48,298 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:18:48,306 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:18:48,465 DEBUG o.s.c.l.CompositeLog [main] clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 02:18:48,466 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 02:18:48,467 INFO o.s.c.l.CompositeLog [main] Starting...
2025-03-13 02:18:48,468 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@55f48623]
2025-03-13 02:18:48,468 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@55f48623]
2025-03-13 02:18:48,469 INFO o.s.c.l.CompositeLog [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@55f48623]]
2025-03-13 02:18:48,470 INFO o.s.c.l.CompositeLog [main] Started.
2025-03-13 02:18:48,471 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:18:48,472 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:18:48,475 INFO o.s.b.StartupInfoLogger [main] Started ExpenseManagerApplicationTests in 1.973 seconds (process running for 20.345)
2025-03-13 02:18:48,497 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@4b765e92, started on Thu Mar 13 02:18:33 IST 2025
2025-03-13 02:18:48,503 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 02:18:48,504 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 02:18:48,504 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-03-13 02:18:48,504 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267e36f5]]
2025-03-13 02:18:48,505 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267e36f5]
2025-03-13 02:18:48,505 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267e36f5]
2025-03-13 02:18:48,506 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-03-13 02:18:48,506 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:18:48,506 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:18:48,510 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 02:18:48,513 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-03-13 02:18:48,518 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-03-13 02:18:48,520 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@71980fa7, started on Thu Mar 13 02:18:41 IST 2025
2025-03-13 02:18:48,524 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@202684ba, started on Thu Mar 13 02:18:43 IST 2025
2025-03-13 02:18:48,526 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@4a6f9ca5, started on Thu Mar 13 02:18:44 IST 2025
2025-03-13 02:18:48,528 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@1d20aae4, started on Thu Mar 13 02:18:46 IST 2025
2025-03-13 02:18:48,529 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 02:18:48,529 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 02:18:48,530 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-03-13 02:18:48,530 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@55f48623]]
2025-03-13 02:18:48,530 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@55f48623]
2025-03-13 02:18:48,530 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@55f48623]
2025-03-13 02:18:48,531 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-03-13 02:18:48,531 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:18:48,531 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:18:48,534 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 02:18:48,535 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2025-03-13 02:18:48,537 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2025-03-13 02:19:56,632 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2025-03-13 02:19:56,678 INFO o.s.b.StartupInfoLogger [main] Starting SecurityConfigTest using Java 21.0.5 with PID 1276 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:19:56,679 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:19:56,680 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:19:56,741 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4b765e92
2025-03-13 02:19:58,130 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-13 02:19:58,274 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 130 ms. Found 5 JPA repository interfaces.
2025-03-13 02:19:59,212 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-13 02:19:59,335 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-13 02:19:59,416 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-03-13 02:19:59,544 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-13 02:19:59,588 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2025-03-13 02:19:59,824 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@74e175c7
2025-03-13 02:19:59,827 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2025-03-13 02:19:59,868 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-13 02:20:01,190 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-13 02:20:01,253 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    alter table if exists users 
       add column provider varchar(255) check (provider in ('LOCAL','GOOGLE','GITHUB'))
2025-03-13 02:20:01,363 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 02:20:01,818 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-13 02:20:03,180 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-03-13 02:20:03,592 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-13 02:20:03,678 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ApprovalController:
	
2025-03-13 02:20:03,679 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.AuthController:
	
2025-03-13 02:20:03,680 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ExpenseController:
	
2025-03-13 02:20:03,680 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.NotificationController:
	
2025-03-13 02:20:03,681 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ReportController:
	
2025-03-13 02:20:03,681 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.UserController:
	
2025-03-13 02:20:03,684 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-03-13 02:20:03,692 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-03-13 02:20:03,692 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-03-13 02:20:03,693 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerConfigResource:
	
2025-03-13 02:20:03,919 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 24 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:20:04,073 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-13 02:20:04,207 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6de06606, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49f1ac93, org.springframework.security.web.context.SecurityContextHolderFilter@4ab6a17d, org.springframework.security.web.header.HeaderWriterFilter@7439cf4b, org.springframework.web.filter.CorsFilter@8937f62, org.springframework.security.web.authentication.logout.LogoutFilter@6d386dff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@503f5382, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@19e7aa5b, com.zidioDev.ExpenseManager.config.RateLimitFilter@1fae279e, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@6329d89f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@e2931b1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@33d57d51, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c59c76c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@137fb1a1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d6bed7b, org.springframework.security.web.session.SessionManagementFilter@7e0a7b9e, org.springframework.security.web.access.ExceptionTranslationFilter@1bee8888, org.springframework.security.web.access.intercept.AuthorizationFilter@6a79a909]
2025-03-13 02:20:04,529 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:20:04,565 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:20:04,945 DEBUG o.s.c.l.CompositeLog [main] clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 02:20:04,946 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 02:20:04,946 INFO o.s.c.l.CompositeLog [main] Starting...
2025-03-13 02:20:04,947 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267e36f5]
2025-03-13 02:20:04,947 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267e36f5]
2025-03-13 02:20:04,948 INFO o.s.c.l.CompositeLog [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267e36f5]]
2025-03-13 02:20:04,950 INFO o.s.c.l.CompositeLog [main] Started.
2025-03-13 02:20:04,951 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:20:04,951 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:20:04,959 INFO o.s.b.StartupInfoLogger [main] Started SecurityConfigTest in 8.875 seconds (process running for 13.473)
2025-03-13 02:20:05,006 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.zidioDev.ExpenseManager.controller.ApprovalControllerTest]: ApprovalControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13 02:20:05,050 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.zidioDev.ExpenseManager.ExpenseManagerApplication for test class com.zidioDev.ExpenseManager.controller.ApprovalControllerTest
2025-03-13 02:20:05,105 INFO o.s.b.StartupInfoLogger [main] Starting ApprovalControllerTest using Java 21.0.5 with PID 1276 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:20:05,105 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:20:05,106 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:20:05,108 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@71980fa7
2025-03-13 02:20:05,835 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 4 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:20:05,960 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-13 02:20:06,011 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a74149d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51e28071, org.springframework.security.web.context.SecurityContextHolderFilter@6e9197d1, org.springframework.security.web.header.HeaderWriterFilter@59ccdde4, org.springframework.web.filter.CorsFilter@72b611a, org.springframework.security.web.authentication.logout.LogoutFilter@30f0c5e, com.zidioDev.ExpenseManager.config.TestSecurityConfig$1@4df03572, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@5c6e4d6b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@792feb9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46b32aa3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@406ba622, org.springframework.security.web.session.SessionManagementFilter@33b29c99, org.springframework.security.web.access.ExceptionTranslationFilter@4ceb6854, org.springframework.security.web.access.intercept.AuthorizationFilter@5ac3a89d]
2025-03-13 02:20:06,137 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:20:06,150 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:20:06,302 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-03-13 02:20:06,303 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'rateLimitFilter' configured for use
2025-03-13 02:20:06,304 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testJwtAuthenticationFilter' configured for use
2025-03-13 02:20:06,305 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testRateLimitFilter' configured for use
2025-03-13 02:20:06,308 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-03-13 02:20:06,309 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-03-13 02:20:06,312 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 2 ms
2025-03-13 02:20:06,339 INFO o.s.b.StartupInfoLogger [main] Started ApprovalControllerTest in 1.284 seconds (process running for 14.852)
2025-03-13 02:20:06,577 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ApprovalController#approveExpense(Long, String)
2025-03-13 02:20:06,821 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:06,827 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ApprovalDTO(expenseId=1, approverRole=MANAGER, approved=true, rejectionReason=null, approvedAt=null)]
2025-03-13 02:20:06,999 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ApprovalController#rejectExpense(Long, String, String)
2025-03-13 02:20:07,004 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:07,005 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ApprovalDTO(expenseId=1, approverRole=MANAGER, approved=false, rejectionReason=Test rejection reason (truncated)...]
2025-03-13 02:20:07,017 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.zidioDev.ExpenseManager.controller.AuthControllerTest]: AuthControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13 02:20:07,033 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.zidioDev.ExpenseManager.ExpenseManagerApplication for test class com.zidioDev.ExpenseManager.controller.AuthControllerTest
2025-03-13 02:20:07,090 INFO o.s.b.StartupInfoLogger [main] Starting AuthControllerTest using Java 21.0.5 with PID 1276 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:20:07,091 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:20:07,092 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:20:07,100 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@357a3cb9
2025-03-13 02:20:07,673 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 4 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:20:07,728 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-13 02:20:07,746 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d8714b4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f445761, org.springframework.security.web.context.SecurityContextHolderFilter@2224628d, org.springframework.security.web.header.HeaderWriterFilter@6593a932, org.springframework.web.filter.CorsFilter@114b8b04, org.springframework.security.web.authentication.logout.LogoutFilter@18ad4396, com.zidioDev.ExpenseManager.config.TestSecurityConfig$1@6da3dcc3, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@1ccc4cc5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48b79bdf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@309571c2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67652cca, org.springframework.security.web.session.SessionManagementFilter@7f8ac54f, org.springframework.security.web.access.ExceptionTranslationFilter@26599412, org.springframework.security.web.access.intercept.AuthorizationFilter@77302d1a]
2025-03-13 02:20:07,798 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:20:07,804 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:20:07,832 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-03-13 02:20:07,833 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'rateLimitFilter' configured for use
2025-03-13 02:20:07,835 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testJwtAuthenticationFilter' configured for use
2025-03-13 02:20:07,835 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testRateLimitFilter' configured for use
2025-03-13 02:20:07,835 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-03-13 02:20:07,835 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-03-13 02:20:07,838 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-03-13 02:20:07,849 INFO o.s.b.StartupInfoLogger [main] Started AuthControllerTest in 0.811 seconds (process running for 16.363)
2025-03-13 02:20:07,879 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.AuthController#register(RegisterRequest)
2025-03-13 02:20:07,973 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [RegisterRequest(fullName=Test User, email=test96a178ba@example.com, password=password123, role=EMPLO (truncated)...]
2025-03-13 02:20:08,089 INFO c.z.E.c.AuthController [main] Attempting to register user with email: test96a178ba@example.com
2025-03-13 02:20:08,090 INFO c.z.E.c.AuthController [main] Successfully registered user with email: test96a178ba@example.com
2025-03-13 02:20:08,094 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:08,096 DEBUG o.s.c.l.LogFormatUtils [main] Writing [AuthResponse(token=mock-jwt-token, id=null, email=null, role=EMPLOYEE, message=Success)]
2025-03-13 02:20:08,108 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.AuthController#login(LoginRequest)
2025-03-13 02:20:08,111 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [LoginRequest(email=test53816efb@example.com, password=password123)]
2025-03-13 02:20:08,116 INFO c.z.E.c.AuthController [main] Attempting login for user: test53816efb@example.com
2025-03-13 02:20:08,118 INFO c.z.E.c.AuthController [main] Successfully logged in user: test53816efb@example.com
2025-03-13 02:20:08,119 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:08,120 DEBUG o.s.c.l.LogFormatUtils [main] Writing [AuthResponse(token=mock-jwt-token, id=null, email=null, role=EMPLOYEE, message=Success)]
2025-03-13 02:20:08,131 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.zidioDev.ExpenseManager.controller.ExpenseControllerTest]: ExpenseControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-13 02:20:08,140 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.zidioDev.ExpenseManager.ExpenseManagerApplication for test class com.zidioDev.ExpenseManager.controller.ExpenseControllerTest
2025-03-13 02:20:08,183 INFO o.s.b.StartupInfoLogger [main] Starting ExpenseControllerTest using Java 21.0.5 with PID 1276 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:20:08,185 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:20:08,185 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:20:08,188 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@9c44b
2025-03-13 02:20:08,686 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 8 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:20:08,724 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-03-13 02:20:08,739 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@668b9072, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78db5702, org.springframework.security.web.context.SecurityContextHolderFilter@4c55b877, org.springframework.security.web.header.HeaderWriterFilter@10544888, org.springframework.web.filter.CorsFilter@7d29d8fc, org.springframework.security.web.authentication.logout.LogoutFilter@7e325a4, com.zidioDev.ExpenseManager.config.TestSecurityConfig$1@58620d12, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@6adf021d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38fdbc9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31adc338, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a715766, org.springframework.security.web.session.SessionManagementFilter@21ced418, org.springframework.security.web.access.ExceptionTranslationFilter@12aba7cb, org.springframework.security.web.access.intercept.AuthorizationFilter@25245f60]
2025-03-13 02:20:08,780 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:20:08,786 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:20:08,808 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'jwtAuthenticationFilter' configured for use
2025-03-13 02:20:08,810 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'rateLimitFilter' configured for use
2025-03-13 02:20:08,810 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testJwtAuthenticationFilter' configured for use
2025-03-13 02:20:08,811 DEBUG o.s.w.f.GenericFilterBean [main] Filter 'testRateLimitFilter' configured for use
2025-03-13 02:20:08,812 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-03-13 02:20:08,813 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-03-13 02:20:08,814 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-03-13 02:20:08,824 INFO o.s.b.StartupInfoLogger [main] Started ExpenseControllerTest in 0.679 seconds (process running for 17.337)
2025-03-13 02:20:08,909 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpensesByUser(Long)
2025-03-13 02:20:08,915 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:08,921 DEBUG o.s.c.l.LogFormatUtils [main] Writing [[ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:20:08.907713600, category= (truncated)...]
2025-03-13 02:20:09,006 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#deleteExpense(Long, Authentication)
2025-03-13 02:20:09,009 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:09,010 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:20:09,082 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#updateExpense(Long, ExpenseDTO, Authentication)
2025-03-13 02:20:09,097 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T02:20:09.079709300, cate (truncated)...]
2025-03-13 02:20:09,114 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:09,116 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:20:09,185 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpenseById(Long, Authentication)
2025-03-13 02:20:09,187 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:09,187 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T02:20:09.183708800, cate (truncated)...]
2025-03-13 02:20:09,259 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#deleteExpense(Long, Authentication)
2025-03-13 02:20:09,261 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:09,262 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:20:09,330 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#deleteExpense(Long, Authentication)
2025-03-13 02:20:09,332 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:09,332 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:20:09,397 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpenseById(Long, Authentication)
2025-03-13 02:20:09,398 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:09,399 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Nothing to write: null body
2025-03-13 02:20:09,468 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getExpenseById(Long, Authentication)
2025-03-13 02:20:09,469 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:09,470 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:20:09.467722600, category=F (truncated)...]
2025-03-13 02:20:09,534 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#createExpense(ExpenseDTO, Authentication)
2025-03-13 02:20:09,536 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:20:09.532709300, category=F (truncated)...]
2025-03-13 02:20:09,537 DEBUG c.z.E.c.ExpenseController [main] Creating expense for user: employee@example.com
2025-03-13 02:20:09,538 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:09,539 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:20:09.532709300, category=F (truncated)...]
2025-03-13 02:20:09,602 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#getMyExpenses(Authentication)
2025-03-13 02:20:09,604 DEBUG c.z.E.c.ExpenseController [main] Fetching expenses for user: employee@example.com
2025-03-13 02:20:09,605 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:09,605 DEBUG o.s.c.l.LogFormatUtils [main] Writing [[ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:20:09.601718100, category= (truncated)...]
2025-03-13 02:20:09,672 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#updateExpense(Long, ExpenseDTO, Authentication)
2025-03-13 02:20:09,673 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T02:20:09.669712200, cate (truncated)...]
2025-03-13 02:20:09,675 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:09,676 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Other User Expense, amount=200.0, date=2025-03-13T02:20:09.669712200, cate (truncated)...]
2025-03-13 02:20:09,741 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#createExpense(ExpenseDTO, Authentication)
2025-03-13 02:20:09,743 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:20:09.740709400, category=F (truncated)...]
2025-03-13 02:20:09,746 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] Using @ExceptionHandler com.zidioDev.ExpenseManager.exception.GlobalExceptionHandler#handleAccessDenied(AccessDeniedException)
2025-03-13 02:20:09,750 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:09,755 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ErrorResponse(timestamp=2025-03-13T02:20:09.748713300, status=403, error=Access Denied, message=You  (truncated)...]
2025-03-13 02:20:09,757 DEBUG o.s.w.s.h.AbstractHandlerExceptionResolver [main] Resolved [org.springframework.security.access.AccessDeniedException: Access Denied]
2025-03-13 02:20:09,822 DEBUG o.s.w.s.h.AbstractHandlerMapping [main] Mapped to com.zidioDev.ExpenseManager.controller.ExpenseController#updateExpense(Long, ExpenseDTO, Authentication)
2025-03-13 02:20:09,823 DEBUG o.s.c.l.LogFormatUtils [main] Read "application/json;charset=UTF-8" to [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:20:09.820722700, category=F (truncated)...]
2025-03-13 02:20:09,824 DEBUG o.s.w.s.m.m.a.AbstractMessageConverterMethodProcessor [main] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-13 02:20:09,824 DEBUG o.s.c.l.LogFormatUtils [main] Writing [ExpenseDTO(id=null, title=Test Expense, amount=100.0, date=2025-03-13T02:20:09.820722700, category=F (truncated)...]
2025-03-13 02:20:09,869 INFO o.s.b.StartupInfoLogger [main] Starting ExpenseManagerApplicationTests using Java 21.0.5 with PID 1276 (started by JARVIS in C:\Users\gaint\OneDrive\Desktop\Codes\JAVA\ExpenseManager\backend\ExpenseManager)
2025-03-13 02:20:09,869 DEBUG o.s.b.StartupInfoLogger [main] Running with Spring Boot v3.2.3, Spring v6.1.4
2025-03-13 02:20:09,869 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2025-03-13 02:20:09,871 DEBUG o.s.c.s.AbstractApplicationContext [main] Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3b1261ed
2025-03-13 02:20:10,242 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-13 02:20:10,277 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 5 JPA repository interfaces.
2025-03-13 02:20:10,466 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-13 02:20:10,473 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2025-03-13 02:20:10,482 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-13 02:20:10,486 INFO c.z.h.HikariDataSource [main] HikariPool-2 - Starting...
2025-03-13 02:20:10,551 INFO c.z.h.p.HikariPool [main] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@59aba9b3
2025-03-13 02:20:10,553 INFO c.z.h.HikariDataSource [main] HikariPool-2 - Start completed.
2025-03-13 02:20:10,561 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-13 02:20:10,873 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-13 02:20:11,018 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 02:20:11,390 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-13 02:20:11,416 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-03-13 02:20:11,469 DEBUG o.s.w.s.h.AbstractHandlerMethodMapping [main] 24 mappings in 'requestMappingHandlerMapping'
2025-03-13 02:20:11,495 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping [main] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-13 02:20:11,526 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d06b5bf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31edcf2f, org.springframework.security.web.context.SecurityContextHolderFilter@7c7427d4, org.springframework.security.web.header.HeaderWriterFilter@7c3f358c, org.springframework.web.filter.CorsFilter@576eac92, org.springframework.security.web.authentication.logout.LogoutFilter@1a9e4177, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4ae58000, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2298e5d2, com.zidioDev.ExpenseManager.config.RateLimitFilter@13f6341b, com.zidioDev.ExpenseManager.config.JwtAuthenticationFilter@1e3d947d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@47a20fab, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@32bd65d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a33530e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f259691, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ace857d, org.springframework.security.web.session.SessionManagementFilter@40b30d8b, org.springframework.security.web.access.ExceptionTranslationFilter@4f753a9e, org.springframework.security.web.access.intercept.AuthorizationFilter@7eb45060]
2025-03-13 02:20:11,554 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ApprovalController:
	
2025-03-13 02:20:11,555 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.AuthController:
	
2025-03-13 02:20:11,555 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ExpenseController:
	
2025-03-13 02:20:11,556 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.NotificationController:
	
2025-03-13 02:20:11,556 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.ReportController:
	
2025-03-13 02:20:11,557 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	c.z.E.c.UserController:
	
2025-03-13 02:20:11,559 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-03-13 02:20:11,560 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-03-13 02:20:11,560 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-03-13 02:20:11,561 DEBUG o.s.m.h.i.AbstractMethodMessageHandler [main] 
	o.s.w.u.SwaggerConfigResource:
	
2025-03-13 02:20:11,617 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter [main] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-13 02:20:11,622 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [main] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-13 02:20:11,750 DEBUG o.s.c.l.CompositeLog [main] clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 02:20:11,751 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 02:20:11,751 INFO o.s.c.l.CompositeLog [main] Starting...
2025-03-13 02:20:11,752 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ac9f8d4]
2025-03-13 02:20:11,752 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ac9f8d4]
2025-03-13 02:20:11,753 INFO o.s.c.l.CompositeLog [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ac9f8d4]]
2025-03-13 02:20:11,754 INFO o.s.c.l.CompositeLog [main] Started.
2025-03-13 02:20:11,754 DEBUG o.s.c.l.CompositeLog [main] clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:20:11,757 DEBUG o.s.c.l.CompositeLog [main] brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:20:11,760 INFO o.s.b.StartupInfoLogger [main] Started ExpenseManagerApplicationTests in 1.925 seconds (process running for 20.274)
2025-03-13 02:20:11,795 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@4b765e92, started on Thu Mar 13 02:19:56 IST 2025
2025-03-13 02:20:11,800 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 02:20:11,801 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 02:20:11,801 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-03-13 02:20:11,801 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267e36f5]]
2025-03-13 02:20:11,801 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267e36f5]
2025-03-13 02:20:11,801 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@267e36f5]
2025-03-13 02:20:11,801 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-03-13 02:20:11,801 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:20:11,801 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:20:11,805 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 02:20:11,807 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2025-03-13 02:20:11,810 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2025-03-13 02:20:11,813 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@71980fa7, started on Thu Mar 13 02:20:05 IST 2025
2025-03-13 02:20:11,815 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@357a3cb9, started on Thu Mar 13 02:20:07 IST 2025
2025-03-13 02:20:11,818 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@9c44b, started on Thu Mar 13 02:20:08 IST 2025
2025-03-13 02:20:11,819 DEBUG o.s.c.s.AbstractApplicationContext [SpringApplicationShutdownHook] Closing org.springframework.web.context.support.GenericWebApplicationContext@3b1261ed, started on Thu Mar 13 02:20:09 IST 2025
2025-03-13 02:20:11,820 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-03-13 02:20:11,820 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-03-13 02:20:11,820 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopping...
2025-03-13 02:20:11,820 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ac9f8d4]]
2025-03-13 02:20:11,821 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ac9f8d4]
2025-03-13 02:20:11,821 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7ac9f8d4]
2025-03-13 02:20:11,821 INFO o.s.c.l.CompositeLog [SpringApplicationShutdownHook] Stopped.
2025-03-13 02:20:11,821 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:20:11,821 DEBUG o.s.c.l.CompositeLog [SpringApplicationShutdownHook] brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-03-13 02:20:11,823 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-13 02:20:11,824 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2025-03-13 02:20:11,827 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
